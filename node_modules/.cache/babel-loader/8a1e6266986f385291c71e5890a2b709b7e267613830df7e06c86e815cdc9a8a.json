{"ast":null,"code":"var _jsxFileName = \"D:\\\\Lester\\\\Programaci\\xF3n\\\\Project_Finanzas\\\\src\\\\components\\\\PaymentCalendar.js\";\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport { CalendarDays, CheckCircle, XCircle } from 'lucide-react';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { formatCurrency } from '../utils/helpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PaymentCalendar = ({\n  loans,\n  transactions,\n  currency\n}) => {\n  const events = [];\n\n  // Add loan due dates to events\n  loans.forEach(loan => {\n    // Ensure paymentsMade is an array before calling reduce\n    const paymentsMade = Array.isArray(loan.paymentsMade) ? loan.paymentsMade : [];\n    const totalPaid = paymentsMade.reduce((sum, payment) => sum + payment.amount, 0);\n    if (totalPaid < loan.amount) {\n      // Only add if loan is not fully paid\n      events.push({\n        date: new Date(loan.dueDate),\n        title: `Pago Préstamo ${loan.bank}`,\n        amount: loan.monthlyPayment,\n        type: 'loan_due',\n        status: new Date(loan.dueDate) < new Date() ? 'overdue' : 'upcoming',\n        id: loan.id\n      });\n    }\n  });\n\n  // Add upcoming bill payments (example - you might need to define these more concretely)\n  // For now, let's just add some example \"bill\" transactions that are expenses\n  transactions.filter(t => t.type === 'expense').forEach(expense => {\n    // This is a simplified example. In a real app, you'd have recurring bills with specific due dates.\n    // For demonstration, we'll just use the transaction date as a \"bill\" date.\n    events.push({\n      date: new Date(expense.date),\n      title: `Gasto: ${expense.description}`,\n      amount: expense.amount,\n      type: 'expense',\n      status: 'paid',\n      // Assuming past expenses are paid\n      id: expense.id\n    });\n  });\n\n  // Sort events by date\n  events.sort((a, b) => a.date - b.date);\n\n  // Group events by date for display\n  const groupedEvents = events.reduce((acc, event) => {\n    const dateString = event.date.toDateString();\n    if (!acc[dateString]) {\n      acc[dateString] = [];\n    }\n    acc[dateString].push(event);\n    return acc;\n  }, {});\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    className: \"bg-white/80 backdrop-blur-xl border border-gray-200/50 rounded-3xl p-6 mb-8 shadow-xl\",\n    initial: {\n      opacity: 0,\n      y: 20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    transition: {\n      duration: 0.5,\n      delay: 0.8\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center gap-3 mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(CalendarDays, {\n        className: \"w-5 h-5 text-orange-500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-bold text-gray-800\",\n        children: \"Calendario de Pagos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), events.length === 0 && /*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"text-center py-4 text-gray-500\",\n      initial: {\n        opacity: 0\n      },\n      animate: {\n        opacity: 1\n      },\n      transition: {\n        delay: 0.2\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No hay eventos de pago pr\\xF3ximos. \\xA1Qu\\xE9 alivio!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), events.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-4\",\n      children: Object.entries(groupedEvents).map(([dateString, dailyEvents]) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"border border-gray-200 rounded-xl p-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-semibold text-gray-700 mb-2\",\n          children: new Date(dateString).toLocaleDateString('es-ES', {\n            weekday: 'long',\n            year: 'numeric',\n            month: 'long',\n            day: 'numeric'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"space-y-2\",\n          children: dailyEvents.map(event => /*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"flex items-center justify-between text-sm text-gray-600\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center gap-2\",\n              children: [event.status === 'overdue' && /*#__PURE__*/_jsxDEV(XCircle, {\n                className: \"w-4 h-4 text-red-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 54\n              }, this), event.status === 'upcoming' && /*#__PURE__*/_jsxDEV(CalendarDays, {\n                className: \"w-4 h-4 text-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 55\n              }, this), event.status === 'paid' && /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"w-4 h-4 text-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 51\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: event.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `font-medium ${event.status === 'overdue' ? 'text-red-600' : ''}`,\n              children: formatCurrency(event.amount, currency)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 21\n            }, this)]\n          }, event.id + event.type, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this)]\n      }, dateString, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_c = PaymentCalendar;\nexport default PaymentCalendar;\nvar _c;\n$RefreshReg$(_c, \"PaymentCalendar\");","map":{"version":3,"names":["React","motion","CalendarDays","CheckCircle","XCircle","DatePicker","formatCurrency","jsxDEV","_jsxDEV","PaymentCalendar","loans","transactions","currency","events","forEach","loan","paymentsMade","Array","isArray","totalPaid","reduce","sum","payment","amount","push","date","Date","dueDate","title","bank","monthlyPayment","type","status","id","filter","t","expense","description","sort","a","b","groupedEvents","acc","event","dateString","toDateString","div","className","initial","opacity","y","animate","transition","duration","delay","children","fileName","_jsxFileName","lineNumber","columnNumber","length","Object","entries","map","dailyEvents","toLocaleDateString","weekday","year","month","day","_c","$RefreshReg$"],"sources":["D:/Lester/Programación/Project_Finanzas/src/components/PaymentCalendar.js"],"sourcesContent":["import React from 'react';\nimport { motion } from 'framer-motion';\nimport { CalendarDays, CheckCircle, XCircle } from 'lucide-react';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { formatCurrency } from '../utils/helpers';\n\nconst PaymentCalendar = ({ loans, transactions, currency }) => {\n  const events = [];\n\n  // Add loan due dates to events\n  loans.forEach(loan => {\n    // Ensure paymentsMade is an array before calling reduce\n    const paymentsMade = Array.isArray(loan.paymentsMade) ? loan.paymentsMade : [];\n    const totalPaid = paymentsMade.reduce((sum, payment) => sum + payment.amount, 0);\n    \n    if (totalPaid < loan.amount) { // Only add if loan is not fully paid\n      events.push({\n        date: new Date(loan.dueDate),\n        title: `Pago Préstamo ${loan.bank}`,\n        amount: loan.monthlyPayment,\n        type: 'loan_due',\n        status: new Date(loan.dueDate) < new Date() ? 'overdue' : 'upcoming',\n        id: loan.id\n      });\n    }\n  });\n\n  // Add upcoming bill payments (example - you might need to define these more concretely)\n  // For now, let's just add some example \"bill\" transactions that are expenses\n  transactions.filter(t => t.type === 'expense').forEach(expense => {\n    // This is a simplified example. In a real app, you'd have recurring bills with specific due dates.\n    // For demonstration, we'll just use the transaction date as a \"bill\" date.\n    events.push({\n      date: new Date(expense.date),\n      title: `Gasto: ${expense.description}`,\n      amount: expense.amount,\n      type: 'expense',\n      status: 'paid', // Assuming past expenses are paid\n      id: expense.id\n    });\n  });\n\n  // Sort events by date\n  events.sort((a, b) => a.date - b.date);\n\n  // Group events by date for display\n  const groupedEvents = events.reduce((acc, event) => {\n    const dateString = event.date.toDateString();\n    if (!acc[dateString]) {\n      acc[dateString] = [];\n    }\n    acc[dateString].push(event);\n    return acc;\n  }, {});\n\n  return (\n    <motion.div\n      className=\"bg-white/80 backdrop-blur-xl border border-gray-200/50 rounded-3xl p-6 mb-8 shadow-xl\"\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5, delay: 0.8 }}\n    >\n      <div className=\"flex items-center gap-3 mb-4\">\n        <CalendarDays className=\"w-5 h-5 text-orange-500\" />\n        <h2 className=\"text-lg font-bold text-gray-800\">\n          Calendario de Pagos\n        </h2>\n      </div>\n\n      {events.length === 0 && (\n        <motion.div\n          className=\"text-center py-4 text-gray-500\"\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          transition={{ delay: 0.2 }}\n        >\n          <p>No hay eventos de pago próximos. ¡Qué alivio!</p>\n        </motion.div>\n      )}\n\n      {events.length > 0 && (\n        <div className=\"space-y-4\">\n          {Object.entries(groupedEvents).map(([dateString, dailyEvents]) => (\n            <div key={dateString} className=\"border border-gray-200 rounded-xl p-4\">\n              <h3 className=\"font-semibold text-gray-700 mb-2\">\n                {new Date(dateString).toLocaleDateString('es-ES', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}\n              </h3>\n              <ul className=\"space-y-2\">\n                {dailyEvents.map(event => (\n                  <li key={event.id + event.type} className=\"flex items-center justify-between text-sm text-gray-600\">\n                    <div className=\"flex items-center gap-2\">\n                      {event.status === 'overdue' && <XCircle className=\"w-4 h-4 text-red-500\" />}\n                      {event.status === 'upcoming' && <CalendarDays className=\"w-4 h-4 text-blue-500\" />}\n                      {event.status === 'paid' && <CheckCircle className=\"w-4 h-4 text-green-500\" />}\n                      <span>{event.title}</span>\n                    </div>\n                    <span className={`font-medium ${event.status === 'overdue' ? 'text-red-600' : ''}`}>\n                      {formatCurrency(event.amount, currency)}\n                    </span>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          ))}\n        </div>\n      )}\n    </motion.div>\n  );\n};\n\nexport default PaymentCalendar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}